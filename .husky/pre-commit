
#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ›¡ï¸ PRODUCTION PROTECTION - FINAL MOCK DATA SCAN..."

# Enhanced mock data validation with zero tolerance
if node scripts/validate-no-mocks.js; then
  echo "âœ… Production protection validation passed"
  echo "âœ… Zero mock data violations detected"
else
  echo "ğŸš¨ COMMIT BLOCKED: MOCK DATA DETECTED IN PRODUCTION CODE"
  echo "ğŸš¨ This is the final protection barrier. No mock data allowed in production."
  echo "ğŸš¨ Fix all violations before attempting to commit."
  exit 1
fi

echo "ğŸ§¹ Running enhanced linters..."
npm run lint --silent || echo "âš ï¸ Lint warnings found"
npm run type-check --silent || echo "âš ï¸ Type check warnings found"

echo "âœ… Pre-commit checks complete - Production ready"
